{"version":3,"file":"VSnackbar.mjs","names":["VDefaultsProvider","VOverlay","makePositionProps","usePosition","useProxiedModel","makeTransitionProps","genOverlays","makeVariantProps","useVariant","onMounted","watch","defineComponent","useRender","makeRoundedProps","useRounded","makeLocationProps","useLocation","useScopeId","VSnackbar","name","props","app","Boolean","contentClass","type","String","default","multiLine","timeout","Number","vertical","modelValue","location","transition","emits","v","setup","slots","isActive","locationStyles","positionClasses","scopeId","colorClasses","colorStyles","variantClasses","roundedClasses","startTimeout","value","activeTimeout","window","clearTimeout","setTimeout","onPointerenter","style","actions","VBtn","variant","ripple","activator"],"sources":["../../../src/components/VSnackbar/VSnackbar.tsx"],"sourcesContent":["// Styles\nimport './VSnackbar.sass'\n\n// Components\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VOverlay } from '@/components/VOverlay'\n\n// Composables\nimport { makePositionProps, usePosition } from '@/composables/position'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { makeTransitionProps } from '@/composables/transition'\nimport { genOverlays, makeVariantProps, useVariant } from '@/composables/variant'\n\n// Utilities\nimport { onMounted, watch } from 'vue'\nimport { defineComponent, useRender } from '@/util'\nimport { makeRoundedProps, useRounded } from '@/composables/rounded'\nimport { makeLocationProps, useLocation } from '@/composables/location'\nimport { useScopeId } from '@/composables/scopeId'\n\nexport const VSnackbar = defineComponent({\n  name: 'VSnackbar',\n\n  props: {\n    app: Boolean,\n    contentClass: {\n      type: String,\n      default: '',\n    },\n    multiLine: Boolean,\n    timeout: {\n      type: [Number, String],\n      default: 5000,\n    },\n    vertical: Boolean,\n\n    modelValue: Boolean,\n\n    ...makeLocationProps({ location: 'bottom' } as const),\n    ...makePositionProps(),\n    ...makeRoundedProps(),\n    ...makeVariantProps(),\n    ...makeTransitionProps({ transition: 'v-snackbar-transition' }),\n  },\n\n  emits: {\n    'update:modelValue': (v: boolean) => true,\n  },\n\n  setup (props, { slots }) {\n    const isActive = useProxiedModel(props, 'modelValue')\n    const { locationStyles } = useLocation(props)\n    const { positionClasses } = usePosition(props)\n    const { scopeId } = useScopeId()\n\n    const { colorClasses, colorStyles, variantClasses } = useVariant(props)\n    const { roundedClasses } = useRounded(props)\n\n    watch(isActive, startTimeout)\n    watch(() => props.timeout, startTimeout)\n\n    onMounted(() => {\n      if (isActive.value) startTimeout()\n    })\n\n    let activeTimeout = -1\n    function startTimeout () {\n      window.clearTimeout(activeTimeout)\n      const timeout = Number(props.timeout)\n\n      if (!isActive.value || timeout === -1) return\n\n      activeTimeout = window.setTimeout(() => {\n        isActive.value = false\n      }, timeout)\n    }\n\n    function onPointerenter () {\n      window.clearTimeout(activeTimeout)\n    }\n\n    useRender(() => (\n      <VOverlay\n        v-model={ isActive.value }\n        class={[\n          'v-snackbar',\n          {\n            'v-snackbar--active': isActive.value,\n            'v-snackbar--multi-line': props.multiLine && !props.vertical,\n            'v-snackbar--vertical': props.vertical,\n          },\n          positionClasses.value,\n        ]}\n        style={[colorStyles.value]}\n        contentProps={{\n          style: locationStyles.value,\n        }}\n        persistent\n        noClickAnimation\n        scrim={ false }\n        scrollStrategy=\"none\"\n        transition={ props.transition }\n        { ...scopeId }\n        v-slots={{ activator: slots.activator }}\n      >\n        <div\n          class={[\n            'v-snackbar__wrapper',\n            colorClasses.value,\n            roundedClasses.value,\n            variantClasses.value,\n          ]}\n          onPointerenter={ onPointerenter }\n          onPointerleave={ startTimeout }\n        >\n          { genOverlays(false, 'v-snackbar') }\n\n          { slots.default && (\n            <div\n              class={[\n                'v-snackbar__content',\n                props.contentClass,\n              ]}\n              role=\"status\"\n              aria-live=\"polite\"\n            >\n              { slots.default?.() }\n            </div>\n          ) }\n\n          { slots.actions && (\n            <VDefaultsProvider\n              defaults={{\n                VBtn: {\n                  variant: 'text',\n                  ripple: false,\n                },\n              }}\n            >\n              <div class=\"v-snackbar__actions\">\n                { slots.actions?.() }\n              </div>\n            </VDefaultsProvider>\n          ) }\n        </div>\n      </VOverlay>\n    ))\n  },\n})\n\nexport type VSnackbar = InstanceType<typeof VSnackbar>\n"],"mappings":"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"}